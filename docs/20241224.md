#### 第十三天

```
今天完成了dwd层日志数据处理。包括过滤格式错误的数据、新老用户校验、分流以及将最后结果发送至kafka


遇到的问题
1.新老用户校验的时候会用到状态编程。要选择RichMapFunction方法而不是MapFunction方法。因为rich前缀的方法才有open()、close()方法，里面会有一个context上下文，可以获取状态信息。
2.fastjson的版本也要注意。用最原始的直接运行会报错，将版本从2.0.0改成2.0.3后就可以正常输出了。
3.最终输出至kafka的时候，因为流存储的是JSONObject格式，是无法调用sinkTo方法的，需要map转换一下就可以了。
```

其他

```
又捋了一下昨天关于广播流的一些知识
终于知道了配置表是干啥的了，也终于捋清了维度表是怎么可以存到hbase又是怎么来的数据了。
```

